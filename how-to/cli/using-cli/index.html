<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=preload as=font href=https://docs.blubracket.com/fonts/vendor/jost/jost-v4-latin-regular.woff2 type=font/woff2 crossorigin><link rel=preload as=font href=https://docs.blubracket.com/fonts/vendor/jost/jost-v4-latin-700.woff2 type=font/woff2 crossorigin><script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','UA-158750084-1','auto'),ga('send','pageview')</script><script async src=https://www.google-analytics.com/analytics.js></script>
<script type=text/javascript id=hs-script-loader async defer src=//js.hs-scripts.com/5254096.js></script>
<script>(()=>{var b=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,a=localStorage.getItem("theme");b&&a===null&&(localStorage.setItem("theme","dark"),document.documentElement.setAttribute("data-dark-mode","")),b&&a==="dark"&&document.documentElement.setAttribute("data-dark-mode",""),a==="dark"&&document.documentElement.setAttribute("data-dark-mode","")})()</script><script>(()=>{Object.keys(localStorage).forEach(function(a){/^global-alert-/.test(a)&&document.documentElement.setAttribute("data-global-alert","closed")})})()</script><link rel=stylesheet href=https://docs.blubracket.com/main.043666765590e3fca0ea17ebc8588c48449c4c288c3aa7c909c33de3d7b0195c3810561751a2550909fd807b55219e7cccb43d356835f764e57e26814d6fa23d.css integrity="sha512-BDZmdlWQ4/yg6hfryFiMSEScTCiMOqfJCcM949ewGVw4EFYXUaJVCQn9gHtVIZ58zLQ9NWg192TlfiaBTW+iPQ==" crossorigin=anonymous><noscript><style>img.lazyload{display:none}</style></noscript><meta name=robots content="index, follow"><meta name=googlebot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><meta name=bingbot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><title>Using the CLI tool - BluBracket Documentation</title><meta name=description content="Details about how to use the CLI tool."><link rel=canonical href=https://docs.blubracket.com/how-to/cli/using-cli/><meta property="og:locale" content="en_US"><meta property="og:type" content="article"><meta property="og:title" content="Using the CLI tool"><meta property="og:description" content="Details about how to use the CLI tool."><meta property="og:url" content="https://docs.blubracket.com/how-to/cli/using-cli/"><meta property="og:site_name" content="BluBracket Documentation"><meta property="article:published_time" content="2022-02-22T02:48:57+00:00"><meta property="article:modified_time" content="2022-02-22T02:48:57+00:00"><meta property="og:image" content="https://docs.blubracket.com/blubracket-logo.png"><meta property="og:image:alt" content="BluBracket Documentation"><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content="@blubracket"><meta name=twitter:creator content="@blubracket"><meta name=twitter:title content="Using the CLI tool"><meta name=twitter:description content="Details about how to use the CLI tool."><meta name=twitter:image content="https://docs.blubracket.com/blubracket-logo.png"><meta name=twitter:image:alt content="Using the CLI tool"><script type=application/ld+json>{"@context":"https://schema.org","@graph":[{"@type":"Organization","@id":"https://docs.blubracket.com/#/schema/organization/1","name":"BluBracket","url":"https://docs.blubracket.com/","sameAs":["https://twitter.com/blubracket","https://github.com/bluBracket/docs.blubracket.com/"],"logo":{"@type":"ImageObject","@id":"https://docs.blubracket.com/#/schema/image/1","url":"https://docs.blubracket.com/blubracket-logo.png","width":808,"height":90,"caption":"BluBracket"},"image":{"@id":"https://docs.blubracket.com/#/schema/image/1"}},{"@type":"WebSite","@id":"https://docs.blubracket.com/#/schema/website/1","url":"https://docs.blubracket.com/","name":"BluBracket Documentation","description":"Usage guide for BluBracket","publisher":{"@id":"https://docs.blubracket.com/#/schema/organization/1"}},{"@type":"WebPage","@id":"https://docs.blubracket.com/how-to/cli/using-cli/","url":"https://docs.blubracket.com/how-to/cli/using-cli/","name":"Using the CLI tool","description":"Details about how to use the CLI tool.","isPartOf":{"@id":"https://docs.blubracket.com/#/schema/website/1"},"about":{"@id":"https://docs.blubracket.com/#/schema/organization/1"},"datePublished":"2022-02-22T02:48:57CET","dateModified":"2022-02-22T02:48:57CET","breadcrumb":{"@id":"https://docs.blubracket.com/how-to/cli/using-cli/#/schema/breadcrumb/1"},"primaryImageOfPage":{"@id":"https://docs.blubracket.com/how-to/cli/using-cli/#/schema/image/2"},"inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https://docs.blubracket.com/how-to/cli/using-cli/"]}]},{"@type":"BreadcrumbList","@id":"https://docs.blubracket.com/how-to/cli/using-cli/#/schema/breadcrumb/1","name":"Breadcrumbs","itemListElement":[{"@type":"ListItem","position":1,"item":{"@type":"WebPage","@id":"https://docs.blubracket.com/","url":"https://docs.blubracket.com/","name":"Home"}},{"@type":"ListItem","position":2,"item":{"@type":"WebPage","@id":"https://docs.blubracket.com/how-to/","url":"https://docs.blubracket.com/how-to/","name":"How To"}},{"@type":"ListItem","position":3,"item":{"@type":"WebPage","@id":"https://docs.blubracket.com/how-to/cli/","url":"https://docs.blubracket.com/how-to/cli/","name":"CLI"}},{"@type":"ListItem","position":4,"item":{"@id":"https://docs.blubracket.com/how-to/cli/using-cli/"}}]},{"@context":"https://schema.org","@graph":[{"@type":"ImageObject","@id":"https://docs.blubracket.com/how-to/cli/using-cli/#/schema/image/2","url":"https://docs.blubracket.com/blubracket-logo.png","contentUrl":"https://docs.blubracket.com/blubracket-logo.png","caption":"Using the CLI tool"}]}]}</script><meta name=theme-color content="#fff"><link rel=apple-touch-icon sizes=180x180 href=https://docs.blubracket.com/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://docs.blubracket.com/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://docs.blubracket.com/favicon-16x16.png><link rel=manifest crossorigin=use-credentials href=https://docs.blubracket.com/site.webmanifest></head><body class="how-to single"><div id=announcement data-id=global-alert-7c39c50cc50a1ef0d2b0c81a771da802 class="alert alert-primary alert-dismissible fade show text-lg-center" role=alert>This documentation is in active development. <a class="alert-link stretched-link" href=/contact-support/>Please contact us</a> if you discover anything broken or missing, or have any questions.
<button type=button class=btn-close data-bs-dismiss=alert aria-label=Close></button></div><div class=header-bar></div><header class="navbar navbar-expand-md navbar-light doks-navbar"><nav class="container-xxl flex-wrap flex-md-nowrap" aria-label="Main navigation"><a class="navbar-brand p-0 me-auto" href=/ aria-label="BluBracket Documentation">BluBracket Documentation</a>
<button class="btn btn-menu d-block d-md-none order-5" type=button data-bs-toggle=offcanvas data-bs-target=#offcanvasDoks aria-controls=offcanvasDoks aria-label="Open main menu"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button><div class="offcanvas offcanvas-start border-0 py-md-1" tabindex=-1 id=offcanvasDoks data-bs-backdrop=true aria-labelledby=offcanvasDoksLabel><div class="header-bar d-md-none"></div><div class="offcanvas-header d-md-none"><h2 class="h5 offcanvas-title ps-2" id=offcanvasDoksLabel><a class=text-dark href=/>BluBracket Documentation</a></h2><button type=button class="btn-close text-reset me-2" data-bs-dismiss=offcanvas aria-label="Close main menu"></button></div><div class="offcanvas-body px-4"><h3 class="h6 text-uppercase mb-3 d-md-none">Main</h3><ul class="nav flex-column flex-md-row ms-md-n3"><li class=nav-item><a class="nav-link ps-0 py-1" href=https://blubracket.com/blog/>Blog</a></li><li class=nav-item><a class="nav-link ps-0 py-1" href=https://blubracket.com/contact/get-started/>Start free</a></li></ul><hr class="text-black-50 my-4 d-md-none"><h3 class="h6 text-uppercase mb-3 d-md-none">Socials</h3><ul class="nav flex-column flex-md-row ms-md-auto me-md-n5 pe-md-2"><li class=nav-item><a class="nav-link ps-0 py-1" href=http://github.com/bluBracket/docs.blubracket.com/><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg><small class="ms-2 d-md-none">GitHub</small></a></li><li class=nav-item><a class="nav-link ps-0 py-1" href=https://twitter.com/blubracket><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-twitter"><path d="M23 3a10.9 10.9.0 01-3.14 1.53 4.48 4.48.0 00-7.86 3v1A10.66 10.66.0 013 4s-4 9 5 13a11.64 11.64.0 01-7 2c9 5 20 0 20-11.5a4.5 4.5.0 00-.08-.83A7.72 7.72.0 0023 3z"/></svg><small class="ms-2 d-md-none">Twitter</small></a></li></ul></div></div><button id=mode class="btn btn-link order-md-1" type=button aria-label="Toggle user interface mode">
<span class=toggle-dark><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg></span><span class=toggle-light><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></span></button></nav></header><nav class="doks-subnavbar py-2 sticky-lg-top" aria-label="Secondary navigation"><div class="container-xxl d-flex align-items-md-center"><form class="doks-search position-relative flex-grow-1 me-auto" action=/ method=get><input id=search name=s class="form-control is-search" type=search placeholder="Search docs..." aria-label="Search docs..." autocomplete=off><div id=suggestions class="shadow bg-white rounded d-none"></div></form><button class="btn doks-sidebar-toggle d-lg-none ms-3 order-3 collapsed" type=button data-bs-toggle=collapse data-bs-target=#doks-docs-nav aria-controls=doks-docs-nav aria-expanded=false aria-label="Toggle documentation navigation"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="doks doks-expand" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Expand</title><polyline points="7 13 12 18 17 13"/><polyline points="7 6 12 11 17 6"/></svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="doks doks-collapse" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Collapse</title><polyline points="17 11 12 6 7 11"/><polyline points="17 18 12 13 7 18"/></svg></button></div></nav><div class=container-xxl><aside class=doks-sidebar><nav id=doks-docs-nav class="collapse d-lg-none" aria-label="Tertiary navigation"><ul class="list-unstyled collapsible-sidebar"><li class=mb-1><h3 class="h6 text-uppercase"><a class="docs-link rounded" href=https://docs.blubracket.com/intro/>Introduction to BluBracket</a></h3><ul class=small><li><a class="docs-link rounded" href=https://docs.blubracket.com/intro/what-is-blubracket/>What is BluBracket?</a></li></ul><ul class=small><li><a class="docs-link rounded" href=https://docs.blubracket.com/intro/use-cases/>BluBracket use-cases</a></li></ul><ul class=small><li><a class="docs-link rounded" href=https://docs.blubracket.com/intro/getting-started/>Getting started with BluBracket</a></li></ul><ul class=small><li><a class="docs-link rounded" href=https://docs.blubracket.com/intro/key-workflows/>Key workflows</a></li></ul><ul class=small><li><a class="docs-link rounded" href=https://docs.blubracket.com/intro/integrations/>Integrations</a></li></ul></li><li class=mb-1><h3 class="h6 text-uppercase"><a class="docs-link rounded" href=https://docs.blubracket.com/how-to/>User guide</a></h3><ul class=small><li><a class="docs-link rounded" href=https://docs.blubracket.com/how-to/cli/>CLI tool</a></li></ul><ul class=small><li><a class="docs-link rounded" href=https://docs.blubracket.com/how-to/code-servers/>Code servers</a></li></ul><ul class=small><li><a class="docs-link rounded" href=https://docs.blubracket.com/how-to/ignore-rules/>Configure ignore rules</a></li></ul><ul class=small><li><a class="docs-link rounded" href=https://docs.blubracket.com/how-to/add-user/>Adding a BluBracket user</a></li></ul><ul class=small><li><a class="docs-link rounded" href=https://docs.blubracket.com/how-to/add-user-ad-saml/>Configure Azure AD</a></li></ul><ul class=small><li><a class="docs-link rounded" href=https://docs.blubracket.com/how-to/iac-checks/>IaC checks</a></li></ul><ul class=small><li><a class="docs-link rounded" href=https://docs.blubracket.com/how-to/remediate-alerts/>Remediate alerts</a></li></ul><ul class=small><li><a class="docs-link rounded" href=https://docs.blubracket.com/how-to/ci-checks/>CI checks</a></li></ul></li><li class=mb-1><h3 class="h6 text-uppercase"><a class="docs-link rounded" href=https://docs.blubracket.com/api/>API</a></h3><ul class=small><li><a class="docs-link rounded" href=https://docs.blubracket.com/api/intro-auth-keys/>Intro to BluBracket APIs and API keys</a></li></ul><ul class=small><li><a class="docs-link rounded" href=https://docs.blubracket.com/api/event-alert/>Event & alert</a></li></ul><ul class=small><li><a class="docs-link rounded" href=https://docs.blubracket.com/api/ci-checks/>CI checks</a></li></ul></li><li class=mb-1><h3 class="h6 text-uppercase"><a class="docs-link rounded" href=https://docs.blubracket.com/faq/>Frequently asked questions</a></h3></li><li class=mb-1><h3 class="h6 text-uppercase"><a class="docs-link rounded" href=https://docs.blubracket.com/contact-support/>Contact support</a></h3></li><li class=mb-1><h3 class="h6 text-uppercase"><a class="docs-link rounded" href=https://docs.blubracket.com/release-notes/>Release notes</a></h3></li><li class=mb-1><h3 class="h6 text-uppercase"><a class="docs-link rounded" href=https://docs.blubracket.com/authoring-documentation/>Authoring documentation</a></h3></li></ul></nav></aside></div><div class="wrap container-xxl" role=document><div class=content><div class="row flex-xl-nowrap"><div class="col-lg-5 col-xl-4 docs-sidebar d-none d-lg-block"><nav class=docs-links aria-label="Main navigation"><ul class="list-unstyled collapsible-sidebar"><li class=mb-1><h3 class="h6 text-uppercase"><a class="docs-link rounded" href=https://docs.blubracket.com/intro/>Introduction to BluBracket</a></h3><ul class=small><li><a class="docs-link rounded" href=https://docs.blubracket.com/intro/what-is-blubracket/>What is BluBracket?</a></li></ul><ul class=small><li><a class="docs-link rounded" href=https://docs.blubracket.com/intro/use-cases/>BluBracket use-cases</a></li></ul><ul class=small><li><a class="docs-link rounded" href=https://docs.blubracket.com/intro/getting-started/>Getting started with BluBracket</a></li></ul><ul class=small><li><a class="docs-link rounded" href=https://docs.blubracket.com/intro/key-workflows/>Key workflows</a></li></ul><ul class=small><li><a class="docs-link rounded" href=https://docs.blubracket.com/intro/integrations/>Integrations</a></li></ul></li><li class=mb-1><h3 class="h6 text-uppercase"><a class="docs-link rounded" href=https://docs.blubracket.com/how-to/>User guide</a></h3><ul class=small><li><a class="docs-link rounded" href=https://docs.blubracket.com/how-to/cli/>CLI tool</a></li></ul><ul class=small><li><a class="docs-link rounded" href=https://docs.blubracket.com/how-to/code-servers/>Code servers</a></li></ul><ul class=small><li><a class="docs-link rounded" href=https://docs.blubracket.com/how-to/ignore-rules/>Configure ignore rules</a></li></ul><ul class=small><li><a class="docs-link rounded" href=https://docs.blubracket.com/how-to/add-user/>Adding a BluBracket user</a></li></ul><ul class=small><li><a class="docs-link rounded" href=https://docs.blubracket.com/how-to/add-user-ad-saml/>Configure Azure AD</a></li></ul><ul class=small><li><a class="docs-link rounded" href=https://docs.blubracket.com/how-to/iac-checks/>IaC checks</a></li></ul><ul class=small><li><a class="docs-link rounded" href=https://docs.blubracket.com/how-to/remediate-alerts/>Remediate alerts</a></li></ul><ul class=small><li><a class="docs-link rounded" href=https://docs.blubracket.com/how-to/ci-checks/>CI checks</a></li></ul></li><li class=mb-1><h3 class="h6 text-uppercase"><a class="docs-link rounded" href=https://docs.blubracket.com/api/>API</a></h3><ul class=small><li><a class="docs-link rounded" href=https://docs.blubracket.com/api/intro-auth-keys/>Intro to BluBracket APIs and API keys</a></li></ul><ul class=small><li><a class="docs-link rounded" href=https://docs.blubracket.com/api/event-alert/>Event & alert</a></li></ul><ul class=small><li><a class="docs-link rounded" href=https://docs.blubracket.com/api/ci-checks/>CI checks</a></li></ul></li><li class=mb-1><h3 class="h6 text-uppercase"><a class="docs-link rounded" href=https://docs.blubracket.com/faq/>Frequently asked questions</a></h3></li><li class=mb-1><h3 class="h6 text-uppercase"><a class="docs-link rounded" href=https://docs.blubracket.com/contact-support/>Contact support</a></h3></li><li class=mb-1><h3 class="h6 text-uppercase"><a class="docs-link rounded" href=https://docs.blubracket.com/release-notes/>Release notes</a></h3></li><li class=mb-1><h3 class="h6 text-uppercase"><a class="docs-link rounded" href=https://docs.blubracket.com/authoring-documentation/>Authoring documentation</a></h3></li></ul></nav></div><main class="docs-content col-lg-11 col-xl-9 mx-xl-auto"><nav aria-label=breadcrumb><ol class=breadcrumb><li class=breadcrumb-item><a href=/>Home</a></li><li class=breadcrumb-item><a href=/how-to/>User guide</a></li><li class=breadcrumb-item><a href=/how-to/cli/>CLI tool</a></li><li class="breadcrumb-item active" aria-current=page>Using the CLI tool</li></ol></nav><h1>Using the CLI tool</h1><p class=lead></p><h4 id=installation>Installation <a href=#installation class=anchor aria-hidden=true>#</a></h4><p><a href=/how-to/cli/installation/>How do I Install the BluBracket command line interface (CLI) tool?</a></p><h4 id=setting-git-hooks>Setting git hooks <a href=#setting-git-hooks class=anchor aria-hidden=true>#</a></h4><p>In terminal, <code>cd</code> to the repo dir, then <code>blubracket install-git-hooks</code></p><pre><code class=language-bash>C:\Users\vbuzu\projects\sandbox&gt;blubracket install-git-hooks
Successfully installed pre-commit hook to 'C:/Users/vbuzu/projects/sandbox/.git/hooks/pre-commit'
</code></pre><p>If git is setup to use global git hooks (specified by <code>core.hooksPath</code> git config), CLI will update/install the hook in that global folder.</p><p>Currently CLI will set only one hook, <code>pre-commit</code>.</p><h5 id=current-limitations>Current limitations <a href=#current-limitations class=anchor aria-hidden=true>#</a></h5><p>CLI will install the pre-commit hook automatically only if the hook does not exist yet or the hook does exist and is implemented as a shell script (determined by the presence of <code>#!/bin/sh</code> or <code>#!/usr/bin/env bash</code> lines). In all other cases, e.g. if the hook is a python script, the CLI invocation must be added to the hook manually. It should be an equivalent of the follow shell command <code>blubracket pre-commit "$@" || { exit "$?"; }:</code> run <code>blubracket</code> command with <code>pre-commit</code> as the first parameter followed by all other parameters passed to the hook itself; exit/stop the hook on any non-zero exit codes from <code>blubracket</code>.</p><h5 id=pre-commitcom-integration>Pre-commit.com integration <a href=#pre-commitcom-integration class=anchor aria-hidden=true>#</a></h5><p>The CLI tool integrates with the <a href=https://pre-commit.com>https://pre-commit.com</a> hook management tool now. If it is detected that the pre-commit tool is used to manager the hooks, the CLI will add itself as one of the hooks to <code>.pre-commit-config.yaml</code>.</p><p>Note: Currently only the default configuration file is supported, if pre-commit tool is configured to use a different file, CLI will NOT add itself to it automatically. In that case, it can be done manually by adding following lines under <code>repos</code> key:</p><pre><code class=language-yaml> - repo: local
    hooks:
      - id: blubracket
        name: BluBracket
        language: system
        entry: blubracket pre-commit
        stages:
          - commit
        verbose: true
        always_run: true
        pass_filenames: false
</code></pre><h4 id=secrets>Secrets <a href=#secrets class=anchor aria-hidden=true>#</a></h4><p>Use your normal git workflow, edit and stage some files, then try to commit. If the changes have secrets, the commit will be blocked. For example:</p><pre><code class=language-bat>C:\Users\vbuzu\projects\sandbox&gt;git commit -m &quot;test commit&quot; -a
Blubracket found 4 secret(s)
C:\Users\vbuzu\projects\sandbox\src\app.cpp:7:11: password_assignment
C:\Users\vbuzu\projects\sandbox\tests\dir2\tests\file1.txt:11:16: bitbucket_oauth_key_base64
C:\Users\vbuzu\projects\sandbox\tests\dir2\tests\file1.txt:12:11: password_assignment
C:\Users\vbuzu\projects\sandbox\tests\dir2\tests\file1.txt:13:14: password_in_url
</code></pre><h5 id=blubracket-ignore>.blubracket-ignore <a href=#blubracket-ignore class=anchor aria-hidden=true>#</a></h5><p>Sometimes it might be necessary to ignore secrets in some files or secrets of some types. To achieve this just create a <code>.blubracket-ignore</code> file in the root directory of the repo. The format of the file is similar to <code>.gitignore</code>. Empty lines and lines started with # are ignored. To ignore all secrets in a file, put a glob pattern, e.g. <code>**/tests</code> will ignore secrets found in all files in any tests directory and sub-directories. To ignore specific a secret type, e.g. any password like secrets, add a line like <code>secret_type:password.*</code>, where <code>password.*</code> is perl compatible regular expression. To ignore specific secret, add a line like <code>secret_value:my_test_gcp_token</code> where <code>my_test_gcp_token</code> is the real secret/token you want to ignore.</p><pre><code class=language-yaml>**/tests/**
secret_type:password.*
secret_value:my_test_gcp_token
</code></pre><h5 id=current-limitations-1>Current limitations: <a href=#current-limitations-1 class=anchor aria-hidden=true>#</a></h5><ul><li><p>negate mask (!) is not supported</p></li><li><p><code>.blubraket-ignore</code> is read only from the root repo directory, placing it in a sub directory will have no effect.</p></li></ul><h5 id=inline-comments>Inline comments <a href=#inline-comments class=anchor aria-hidden=true>#</a></h5><p>In addition to .blubracket-ignore file, it is possible to mark a secret to be ignored by placing a “comment” on the <strong>same</strong> line as the secret. The comment/line has to have <code>BluBracketIgnore</code> string in it, please note that CLI will do case-sensitive comparison.</p><h5 id=possible-workarounds-for-false-positives>Possible workarounds for false positives <a href=#possible-workarounds-for-false-positives class=anchor aria-hidden=true>#</a></h5><p>Ignoring whole folders and/or secret type all the time could be dangerous as it can be easy to miss secrets. The recommended ways to deal with false positives are inline comments or ignoring the particular secret using <code>secret_value</code> rule in the <code>.blubracket-ignore</code> file.</p><h4 id=own-secrets>Adding checks for your own secrets <a href=#own-secrets class=anchor aria-hidden=true>#</a></h4><p>Out of the box BluBracket does support around 50 different secret types. If you want to check other secret types, it is easy. In a repo/clone folder create a file <code>.blubracket/customregex.yml</code> (if you want new secret checks be applicable for any repo, create the file in $HOME folder instead). The content of the file is a list of secrets to check. Each secret is defined by two properties: <code>description</code> and <code>pattern</code>. Description is textual name for the secret that will be displayed by CLI if the secret is detected. Pattern is a regex to match the secret. Here is an example of how to a check for SSNs:</p><pre><code class=language-yaml>- pattern: (?P&lt;value&gt;\d{3}-\d{2}-\d{4})
  description: simple_ssn
</code></pre><h5 id=pii-secrets>PII secrets <a href=#pii-secrets class=anchor aria-hidden=true>#</a></h5><p>In addition to built-in secrets and custom secrets, CLI does support the ability to define a different group of “secrets” related to PII (Personally Identifiable Information) such as Social Security Numbers (SSN), emails, URLs, IP-addresses, etc. This feature is fully customizable. Out of the box CLI defines several patterns but all can be disabled, or the corresponded action changed. Here is the default configuration file:</p><pre><code class=language-yaml>defaults:
action: allow
disabled: false

patterns:
- type: ssn
  description: Social Security Number
  pattern: \b(?P&lt;ssn1&gt;\d{3})-(?P&lt;ssn2&gt;\d{2})-(?P&lt;ssn3&gt;\d{4})\b
  exclude_if: |
    /000|666|9../.test(ssn1) ||
    ssn2 == &quot;00&quot; ||
    ssn3 == &quot;0000&quot;
  action: block

- type: email
  pattern: \b(?P&lt;username&gt;[a-z0-9!#'+^_~-]+(?:\.[a-z0-9!#'+^_~-]+)*)@(?P&lt;domain&gt;[a-zA-Z0-9-.]+)\b
  # exclude_if can be any valid JavaScript expression returns boolean value
  # it is not limited to a single expression, it can be even a full fledged function.
  # all matched groups defined in 'pattern' regex will be available as variables in the global execution context
  # the full matched value will be available as 'full_match' variable
  # Here is an example that uses a function: it will report only @github.com emails
  #exclude_if: |
  #  (function(){
  #    if (domain.toLowerCase() != &quot;github.com&quot;) return true;
  #    return false;
  #  })()
  disabled: true

- type: url
  description: URL
  pattern: \b(?:(?P&lt;scheme&gt;[a-zA-Z][a-zA-Z\d+-.]*):)(?:\/\/)?(?:(?P&lt;userinfo&gt;(?:[a-zA-Z\d\-._~\!$&amp;'()*+,;=%]*)(?::(?:[a-zA-Z\d\-._~\!$&amp;'()*+,;=:%]*))?)@)?(?P&lt;host&gt;[a-zA-Z\d\-.%]+)\b
  disabled: true

- type: ip_v4
  description: IPv4
  pattern: \b((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\b

- type: ip_v6
  description: IPv6
  pattern: (([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))

</code></pre><p>Configuration file can be global, for all the repos, it is located in <code>~/.blubracket/pii.yaml</code>, or local, in repo’s <code>.blubracket/pii.yaml</code> file. If repo-local file exists, it will be used, otherwise the global file will be used. Upon launch, CLI with create the global file if it does not exist yet. After file has been created, it is OK to fully change it, CLI will not touch it anymore.</p><h4 id=sensitive-words>Sensitive words <a href=#sensitive-words class=anchor aria-hidden=true>#</a></h4><p>In addition to checking secrets, CLI can check for sensitive/offensive words that might be good idea to avoid. Examples includes master, slave, etc. By default CLI only warns if a sensitive word has been found but allows commit to proceed. Sensitive Words can be configured in the similar way as PII Secrets. The configuration file name is <code>~/.blubracket/sensitive-words.yaml</code> (or a repo-local alternative). Here is the default file:</p><pre><code class=language-yaml>defaults:
  action: block
  disabled: false

patterns:
  - type: master
    description: master
    pattern: \b(?i)(master(\w)*)\b
  - type: slave
    description: slave
    pattern: \b(?i)(slave)\b
  - type: whitelist
    description: whitelist
    pattern: \b(?i)(whitelist(ed|ing){0,1})\b
  - type: blacklist
    description: blacklist
    pattern: \b(?i)(blacklist(ed|ing){0,1})\b
  - type: whitebox
    description: whitebox
    pattern: \b(?i)(whitebox)\b
  - type: blackbox
    description: blackbox
    pattern: \b(?i)(blackbox)\b
  - type: whitehat
    description: whitehat
    pattern: \b(?i)(whitehat)\b
  - type: blackhat
    description: blackhat
    pattern: \b(?i)(blackhat)\b
  - type:  man_hours
    description: man-hours
    pattern: \b(?i)(man[ -]hours{0,1})\b
  - type: man_days
    description: man-days
    pattern: \b(?i)(man[ -]days{0,1})\b
</code></pre><p>Example output:</p><pre><code class=language-bat>C:\Users\vbuzu\projects\sandbox&gt;git commit -m &quot;test&quot; -a
BluBracket blocked 1 secret(s):
C:\Users\vbuzu\projects\sandbox\test2:8:27: custom_regex: simple SSN:
BluBracket allowed 1 sensitive word(s):
C:\Users\vbuzu\projects\sandbox\test2:8:4: Master: config: sensitive_keywords.action: allow
</code></pre><h4 id=commit-signing>Commit signing <a href=#commit-signing class=anchor aria-hidden=true>#</a></h4><p>BluBracket can check that the commit is going to be signed or not and warn or block in case the commit is not signed. By default BluBracket only warns if commit is not signed.</p><p>Note: Blubracket only checks git config commit.gpgSign value and not <code>-S</code>option passed to <code>git commit</code> command to determine signing status. The reason is that commit signing makes sense if all the commits are signed. Thus using commit.gpgSign is the most proper way to enable signing</p><p>Example Output:</p><pre><code class=language-bat>C:\Users\vbuzu\projects\sandbox&gt;git commit -m &quot;test&quot; -a
BluBracket allowed unsigned commit
Use `blubracket commit-signing configure` to enable commit signing
[master 94ca89a] test
 1 file changed, 2 insertions(+), 1 deletion(-)
</code></pre><h5 id=configure-commit-signing>Configure commit signing <a href=#configure-commit-signing class=anchor aria-hidden=true>#</a></h5><p>In addition to checking is commit signed or not, BluBracket helps configuring signing if it is not done already. To do that use <code>blubracket commit-signing configure command</code>. This should be run inside a clone directory as it will configure the signing only for the one current repo/clone. To configure signing globally, for all the current and future clones, add <code>--global</code> flag. Internally CLI will create a gpg key if needed, will configure git to use it, and will point how to upload the key’s public key to git providers, like GitHub and GitLab.</p><p>Notes:</p><ul><li><p>CLI checks and configures gpg keys only, not S-MIME/X509</p></li><li><p>CLI will try to use <code>gpg</code> command already available on the user’s device. If <code>gpg</code> is not found:</p><ul><li><p>on Linux, CLI will do nothing, as gpg actually expected to be installed by default</p></li><li><p>on Windows, CLI will use gpg from a git for Windows distribution, if available. CLI will NOT install gpg4Win</p><ul><li>on Mac/OSX, CLI will install gnupg2 using brew. CLI will NOT install brew itself. Along side with gnupg2, CLI will install and configure pinentry-mac, so key management can be integrated with OSX keychain and commit signing works not only from terminal but from IDEs as well.</li></ul></li></ul></li><li><p>If a key needs to be generated, it is generated with default parameters (same as gpg &ndash;quick-gen-key command). Currently there is no way to customize this.</p></li></ul><p>Example output:</p><pre><code class=language-bat>C:\Users\vbuzu\projects\test-repo&gt;blubracket commit-signing configure
Finding gpg... found: C:\Program Files\Git\usr\bin\gpg.exe
Checking gpg key for user-id 'John Doe &lt;john@acme.com&gt;' ...About to create a key for:
    &quot;John Doe &lt;john@acme.com&gt;&quot;

Continue? (Y/n)
We need to generate a lot of random bytes. It is a good idea to perform
some other action (type on the keyboard, move the mouse, utilize the
disks) during the prime generation; this gives the random number
generator a better chance to gain enough entropy.
We need to generate a lot of random bytes. It is a good idea to perform
some other action (type on the keyboard, move the mouse, utilize the
disks) during the prime generation; this gives the random number
generator a better chance to gain enough entropy.
gpg: key 25ADA7C6E06D60A0 marked as ultimately trusted
gpg: revocation certificate stored as '/c/Users/vbuzu/.gnupg/openpgp-revocs.d/AF06E23594DC979D3AC56B5625ADA7C6E06D60A0.rev'
public and secret key created and signed.

pub   rsa3072 2021-03-10 [SC] [expires: 2023-03-10]
      AF06E23594DC979D3AC56B5625ADA7C6E06D60A0
uid                      John Doe &lt;john@acme.com&gt;
sub   rsa3072 2021-03-10 [E]

Configuring git to use commit signing...done
Getting public key for gpg key '25ADA7C6E06D60A0' ...done
-----BEGIN PGP PUBLIC KEY BLOCK-----

mQGNBGBJJmUBDACiyaGZTTAN+fizZQ8h4t9kie1iM6nLzNxCPtvh2pk9IQUkDbK9
PZHpsGIGpZRZwW+IZktWVINMJpuFeakxO7zOk7JdHsqC1wduSTIvBkYxc/VkUk3V
5P2kupj4lCj3IernvlJ1RY25MbUaErMTyEm5HAHaQPWlfAJReh8C2GWc1m68DWF0
lcZuOFCPg/fD5IbV6tLllS7OKcg0On+tRakiIunIzlVyfUBzmrVV13ZBkBc+oJWx
EAIMCOMWkXR0rEeqaWqxOXoKpC1iSlXzlXTdko6r3Z9dEUu5P7xHc63/4GVhmDLf
B72jJMnmJqh7zQAlQvmZ56H6qeDSK41W9KLFazAXI3MQ5WsWdBcErNS9/HaD1oPu
ZChpdWLljd/UFB6ES7podqDPa5v8ttIL5QPIUTRgjGNTZE4wG2YVojC1r5DcVUm3
9Up5RMOkUzhUW/u7bLa0OI/KxR2tZkLtuuCeaWx4LMOqLbJ3oU6VRVm8IaZM3q2x
+AFh/uRMeIilRyUAEQEAAbQYSm9obiBEb2UgPGpvaG5AYWNtZS5jb20+iQHUBBMB
CAA+FiEErwbiNZTcl506xWtWJa2nxuBtYKAFAmBJJmUCGwMFCQPCZwAFCwkIBwIG
FQoJCAsCBBYCAwECHgECF4AACgkQJa2nxuBtYKDfOAv/TxXbc3BAZsrm652VwAlw
YcJgQX5ByjZ3lsJ2nTVMtqpF1yPiz8MxammmHJRJ3indCWnXDDdxY4N2CS0I+HSb
aJp6rUxlEkvPg8rtDIJSGjb/qkfSMLJqE9t86e1LFYMpvDhtei/dhHibN/UFkLer
MJOVO40jvoPeaMlmgY4JlWqLtuv0rzq4FMRZQ7mqrvwk9E8LYL6UoFbp0merOe4K
cRW6kAe8YvEOj9pZUbwzLTv/HNq7poR7G5gpUz7mgNf7wScG+QV4JsX+5Z7Px40/
fGjkHf1uz8pF/xbTPeu4jh54nwDBWkb2VxteyIwGNNCxP4BAFXtmMlZ5NToISixC
kDrNQDeWSQdy3xbLFUxQMORqZXWlcJVyOO8bhbgIFswzcRhhqP3T6qUi5+yvKqxF
T52bY5MJVGxiKQ85veYoPPDdyGl73h9jX2A3+E2/GMAYanYuSo8AIbglYbsffqmm
fy/5tRJWcUgPBiulo6LJCZSxMF6OmJ/hRBtpVisKT2/vuQGNBGBJJmUBDADbaErL
iaoTWQUIDaMxWxrmhFl5pHX1KX1NdYgScv3hswjV8YRpofA92z4GrC9TXB6/rhJ4
a3s57nY3XgKOwkq68PmtK4ueOqmHxz/paAFpA33EPmr636zOMWJqcj00HWr0LXzX
CZ6gWjMYtpGhlSXMKSzUeO9bOsiW3F+0joFbnbxsfvXKhx8Ta8BvjrUkCU5LZvID
pctWpKbHQ8j+7t5qwDNZ0cROpn54jJGykoWmCtayS+1oUOy0BXZ5fdktyhurrmzv
eFKucf3ZOfQJtyTomACFCwUIKzqs2n9tK3Pz4WEVGJO5zlRsZdEik13HowiQWPNi
niUr/ulSiBKIc71IhbJCawp/0bS+QkK08PQKxOR4l1Vhctr48GWySzqNsSO8Be9e
wDuUo7kGkSXrbwr7ZPSQv4HG/RFjMd9gp0gH8dcbskTm1gCW43O4b+fmcRqYuyCK
YuwDAVz2l5LSsxiN00MF5+LHPfX5ZZfbRjm/HM/PZtRVhYQiyBHHwLZtHiMAEQEA
AYkBtgQYAQgAIBYhBK8G4jWU3JedOsVrViWtp8bgbWCgBQJgSSZlAhsMAAoJECWt
p8bgbWCg4NIMAIVGvgOVlxF7FMZjVqfZnNqZDj2HXduyvjsadoKzDdPiulsAVYMx
5MAKrE4vrr0+/V10irSLZzUSHyt/r2A5E8xo6jqpxWN2Cipm6lUcOKQItTsyBYt2
EoZxiTvMx+aRhrnT376lysRaAyHaqsf4QOWv+CQV0gOS56p3Su3FQPObe84IzjMI
6PRYQCvGsofRLTuoOFcTj1mSPKwrQhZg0d2XpRmCfLJg19V1rQSMU+z7YhlR5bua
qvnuJzqIHd2+2GZB/75cpxN4rtVrac2WM2FYmC5TW7LXVybwpJ451Z77UAhe5gGg
nvtdNpxrHfyq21LB1YJrod/wTvNSjDxseX+7Xcq0FzunvGImV5rVq0Cx4t3cmG78
4FhDDwjXcWE8QOdPWJpdATiE+40g/zWAxY6kHTrJTg5q9rVwSCrGFW6NB6apVkNs
3qKT4Ko1WpCfIukP13vsVx7SpxbAIzOl8GrKprAcTMBxoXtL33F9P90Q0FrmOZ27
3OYqf//nWVG3qA==
=ulRA
-----END PGP PUBLIC KEY BLOCK-----

Public Key has been copied to system clipboard. Next, add it to your git provider:
For GitHub: navigate to https://github.com/settings/keys
For GitLab: navigate to https://gitlab.com/-/profile/gpg_keys
</code></pre><h4 id=binary-files>Binary files <a href=#binary-files class=anchor aria-hidden=true>#</a></h4><p>The CLI can check that a “large” binary file is going to be committed and either ignore, warn, or block the commit depending on the file size. By default binary files less than 500 KB will be ignored; if more than 500 KB but less than 10 MB, CLI will warn but allow the commit; if more than 10 MB then the commit will be blocked. To disable only warning or blocking the size can be set to 0 (see configuration options below).</p><p>Sample output:</p><pre><code class=language-bat>C:\Users\vbuzu\projects\test-repo&gt;git commit -m &quot;test&quot;
BluBracket blocked 1 binary file
Blocked binary files:
C:\Users\vbuzu\projects\test-repo\bluscanner.exe: 81.2 MB
Consider using git-lfs to manage large binary files, https://git-lfs.github.com/
</code></pre><h4 id=cli-configuration>CLI configuration <a href=#cli-configuration class=anchor aria-hidden=true>#</a></h4><p>By default CLI blocks secrets and allows sensitive words. It is possible to customize this behavior using config files. CLI loads config files from <code>&lt;repo>/.blubracket/config.yaml</code> and <code>~/.blubracket/config.yaml</code>. CLI mimics <code>git config</code> behavior where settings in a repo-local config overwrite settings in global config. Here is an example of the config file that has all the default values:</p><pre><code class=language-yaml>secrets:
    disabled: false
    action: block
   
commit_signing:
    disabled: false
    action: allow    
  
binary_files:
    disabled: false
    allow_larger: 500KB
    block_larger: 10MB
</code></pre><h4 id=supported-platforms>Supported platforms <a href=#supported-platforms class=anchor aria-hidden=true>#</a></h4><ul><li><p>Windows 10</p></li><li><p>Mac OSX >= 10.12</p></li><li><p>Linux</p><ul><li><p>Alpine >= 5</p></li><li><p>Ubuntu >= 16.04</p></li><li><p>CentOS >= 7</p></li></ul></li></ul><p class=edit-page><a href=http://github.com/BluBracket/docs.blubracket.com/blob/main/content/how-to/cli/using-cli/index.md><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-edit-2"><path d="M17 3a2.828 2.828.0 114 4L7.5 20.5 2 22l1.5-5.5L17 3z"/></svg>Edit this page on GitHub</a></p><div class="docs-navigation d-flex justify-content-between"><a href=/how-to/cli/installation/><div class="card my-1"><div class="card-body py-2">&larr; CLI tool installation</div></div></a><a class=ms-auto href=/how-to/ignore-rules/global/><div class="card my-1"><div class="card-body py-2">Configuring global ignore rules &rarr;</div></div></a></div></main></div></div></div><footer class="footer text-muted"><div class=container-xxl><div class=row><div class="col-lg-8 order-last order-lg-first"><ul class=list-inline><li class=list-inline-item><a href=https://blubracket.com/>BluBracket</a> code security tracks what's in your code, who has access, and where it goes</li></ul></div><div class="col-lg-8 order-first order-lg-last text-lg-end"><ul class=list-inline><li class=list-inline-item><a href=https://blubracket.com/compliance/>Trust & compliance</a></li><li class=list-inline-item><a href=https://blubracket.com/privacy/>Privacy policy</a></li><li class=list-inline-item><a href=https://blubracket.com/terms-conditions/>Terms & conditions</a></li></ul></div></div></div></footer><script id=ze-snippet src="https://static.zdassets.com/ekr/snippet.js?key=6aa6f6f6-af7c-4e14-834b-fb23c358fc25"></script><script src=/js/bootstrap.min.fdbe9b9ba88a036135318f3c721784d684ac9e3280fe282cc80d7d49f7f9c82780cd54228c1608685a230c09984300d7946fc471734d566fcebc148b65bd16db.js integrity="sha512-/b6bm6iKA2E1MY88cheE1oSsnjKA/igsyA19Sff5yCeAzVQijBYIaFojDAmYQwDXlG/EcXNNVm/OvBSLZb0W2w==" crossorigin=anonymous defer></script>
<script src=/js/highlight.min.451fe6185924dcedf55c767559b5130f666f31c989f0078a75bafc346ad7364e180edfd731b1ca6bae0e90dfee88842885d284126ab0879f5067399e3a02b09e.js integrity="sha512-RR/mGFkk3O31XHZ1WbUTD2ZvMcmJ8AeKdbr8NGrXNk4YDt/XMbHKa64OkN/uiIQohdKEEmqwh59QZzmeOgKwng==" crossorigin=anonymous defer></script>
<script src=/main.min.63b5f3cffba5c1a5b03aead501451fc09b6a8bf758322b0af4a013e7fda24ff4e30e648e68c08dfc6a4f79e38507be6da35694894198859b23af4c8bde23aa0a.js integrity="sha512-Y7Xzz/ulwaWwOurVAUUfwJtqi/dYMisK9KAT5/2iT/TjDmSOaMCN/GpPeeOFB75to1aUiUGYhZsjr0yL3iOqCg==" crossorigin=anonymous defer></script>
<script src=https://docs.blubracket.com/index.28a516d5fcd0a6aa0c62827d700ba2a2289bcaca0ca92f003dc07114f85eda2d382d597aa428bcb9a737844195f1496f3292482078480f8040d835f1c4163e53.js integrity="sha512-KKUW1fzQpqoMYoJ9cAuioiibysoMqS8APcBxFPhe2i04LVl6pCi8uac3hEGV8UlvMpJIIHhID4BA2DXxxBY+Uw==" crossorigin=anonymous defer></script></body></html>