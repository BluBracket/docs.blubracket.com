{{ partial "header.html" . }}


{{if .Params.cover}}
	{{if or (eq (substr .Params.cover 0 7) "http://") (eq (substr .Params.cover 0 8) "https://")}}
  <header class="main-header tag-head" style="background-image: url({{.Params.cover}})">
  {{ else }}
  <header class="main-header tag-head" style="background-image: url({{.Params.cover | relURL}})">
  {{ end }}
{{else if .Site.Params.cover}}
	 {{if or (eq (substr .Site.Params.cover 0 7) "http://") (eq (substr .Site.Params.cover 0 8) "https://")}}
  <header class="main-header tag-head" style="background-image: url({{.Site.Params.cover}})">
  {{ else }}
  <header class="main-header tag-head" style="background-image: url({{.Site.Params.cover  | relURL}})">
  {{ end }}
{{else}}
	<header class="main-header tag-head no-cover">
{{end}}
    <nav class="main-nav overlay clearfix">
      {{ if .Site.Params.logo }}
        <a class="blog-logo" href="{{.Site.BaseURL}}"><img src="{{ .Site.Params.logo | relURL}}" alt="Home" /></a>
      {{end}}
      {{ if .Site.Menus.main }}
          <a class="menu-button" href="#"><span class="burger">&#9776;</span><span class="word">Menu</span></a>
      {{else}}
        {{ if .Site.Params.RSSLink}}
          <a class="menu-button icon-feed" href="{{.Site.Params.RSSLink }}">&nbsp;&nbsp;Subscribe</a>
        {{else}}
          <a class="menu-button icon-feed" href="{{ .RSSLink }}">&nbsp;&nbsp;Subscribe</a>
        {{end}}
      {{end}}
    </nav>
    <div class="vertical">
        <div class="main-header-content inner">
            <h1 class="page-title">{{.Title}}</h1>
            <h2 class="page-description">
                {{if .Params.description}}
                    {{.Params.description}}
                {{end}}
            </h2>
        </div>
    </div>
</header>


<main class="content" role="main" id="search-results">
    <article class="post post">
        <header class="post-header">
            <form action="{{ "search" | absURL }}/" method="GET">
                <input id="search-query" placeholder="Search..." name="s" autocomplete="off" search autofocus/>
                <input type="submit"/>
            </form>
        </header>
    </article>

    <!-- this template is sucked in by search.js and appended to the search-results div above. So editing here will adjust style -->
    <script id="search-result-template" type="text/x-js-template">
        <article class="post post search-results-summary summary-${key}">
            <header class="post-header">
                <h2 class="post-title"><a href="${link}">${title}</a></h2>
            </header>
            <section class="post-excerpt">
                <p>${snippet} [...] <a class="read-more" href="${link}">Â» read more</a></p>
            </section>
            <footer class="post-meta">
                ${ isset tags }<p>${tags}</p>${ end }
            </footer>
        </article>
    </script>
</main>

<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.0/fuse.min.js"></script>
<script src="{{ "js/search.js" | absURL }}"></script>

{{ partial "footer.html" . }}
